version: "1.0"

groups:
  - id: network
    label: Network Settings
    description: Port and network configuration
    fields:
      - id: SIGNALK_PORT
        label: HTTP Port
        type: integer
        default: 3000
        min: 1024
        max: 65535
        required: true
        description: Port for web interface and API

  - id: oidc
    label: OIDC / SSO Settings
    description: Single Sign-On authentication configuration
    fields:
      - id: SIGNALK_OIDC_ENABLED
        label: Enable OIDC
        type: boolean
        default: true
        required: true
        description: Enable OpenID Connect authentication

      - id: SIGNALK_OIDC_ISSUER
        label: OIDC Issuer URL
        type: string
        default: "https://auth.halos.local"
        required: false
        description: URL of the OIDC identity provider (e.g., Authelia)

      - id: SIGNALK_OIDC_CLIENT_ID
        label: Client ID
        type: string
        default: signalk
        required: false
        description: OIDC client identifier

      - id: SIGNALK_OIDC_CLIENT_SECRET
        label: Client Secret
        type: password
        required: false
        description: OIDC client secret (leave empty if managed by Authelia)

      - id: SIGNALK_OIDC_PROVIDER_NAME
        label: Provider Name
        type: string
        default: "HaLOS SSO"
        required: false
        description: Display name for the SSO provider on login page

      - id: SIGNALK_OIDC_DEFAULT_PERMISSION
        label: Default Permission
        type: enum
        default: readonly
        required: false
        options:
          - readonly
          - readwrite
          - admin
        description: Default permission level for new OIDC users

      - id: SIGNALK_OIDC_ADMIN_GROUPS
        label: Admin Groups
        type: string
        default: admins
        required: false
        description: Comma-separated list of OIDC groups that grant admin access

      - id: SIGNALK_OIDC_READWRITE_GROUPS
        label: Read/Write Groups
        type: string
        default: users
        required: false
        description: Comma-separated list of OIDC groups that grant read/write access
