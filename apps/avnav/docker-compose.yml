version: '3.8'

services:
  avnav:
    image: xfreex/avnav-stable:20251028
    container_name: avnav
    restart: unless-stopped
    ports:
      - "${AVNAV_HTTP_PORT:-3011}:8080"
      - "${AVNAV_WEBSOCKET_PORT:-8083}:8083"
      - "${AVNAV_NMEA_PORT:-34567}:34567"
    volumes:
      - ${CONTAINER_DATA_ROOT:-/var/lib/container-apps}/avnav-container/data:/var/lib/avnav
      - /dev:/dev
    environment:
      - UID=1000
      - GID=1000
    user: "1000:1000"
    privileged: true
    networks:
      - avnav-net

networks:
  avnav-net:
    driver: bridge
