version: '3.8'

services:
  opencpn:
    image: jlesage/opencpn:v24.12.1
    container_name: opencpn
    restart: unless-stopped
    ports:
      - "${OPENCPN_VNC_PORT:-8080}:5800"
    volumes:
      - /opt/container-data/opencpn/config:/config
      - /opt/container-data/opencpn/charts:/charts
    environment:
      - VNC_PASSWORD=${OPENCPN_VNC_PASSWORD:-halos}
      - DISPLAY_WIDTH=1280
      - DISPLAY_HEIGHT=768
      - TZ=UTC
    # Device mappings are hardware-dependent. Uncomment and customize as needed for your system.
    # Most systems won't have both devices available at the same time.
    # devices:
    #   - /dev/ttyUSB0:/dev/ttyUSB0
    #   - /dev/ttyACM0:/dev/ttyACM0
    networks:
      - opencpn-net

networks:
  opencpn-net:
    driver: bridge
